# Debug Mode Configuration
# For troubleshooting connection issues

# Copy this to /etc/config/enhanced_atc on your router
# Or use it as a reference for LuCI configuration

config general 'general'
	option fcc_unlock '1'
	option firmware_check '1'
	option atc_debug '1'                     # ENABLE DEBUG LOGGING
	option auto_optimize '0'
	option power_management '0'

config interface 'wan'
	option enabled '1'
	option device '/dev/ttyUSB3'
	option apn 'internet'                    # Replace with your APN
	option username ''
	option password ''
	option auth '0'
	option pdp 'IP'
	option delay '10'                        # Longer delay for debugging
	option max_retries '5'                   # More retries for debugging
	option preferred_mode 'auto'
	option signal_threshold '-90'
	option monitor_interval '30'             # More frequent monitoring

# Debug mode features:
# - Verbose logging to /tmp/atc_logs/DEBUG.log
# - All AT commands and responses logged
# - Detailed connection state information
# - Step-by-step initialization logging

# View logs:
# tail -f /tmp/atc_logs/DEBUG.log
# tail -f /tmp/atc_logs/INFO.log
# tail -f /tmp/atc_logs/ERROR.log
# tail -f /tmp/atc_logs/FCC.log

# To disable debug mode after troubleshooting:
# uci set enhanced_atc.general.atc_debug='0'
# uci commit enhanced_atc
# /etc/init.d/network reload
